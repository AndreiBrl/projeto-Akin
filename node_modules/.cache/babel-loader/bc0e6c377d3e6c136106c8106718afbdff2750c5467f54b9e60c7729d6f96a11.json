{"ast":null,"code":"import _objectSpread from\"C:/Users/barbu/Desktop/projeto-Akin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/barbu/Desktop/projeto-Akin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{ReactReader,ReactReaderStyle}from'react-reader';import menuLeitura from'../img/menuLeitura.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LeituraEPUB=function LeituraEPUB(){// Substitua com o caminho real para o seu arquivo EPUB\nvar epubUrl='https://magical-marzipan-1029e1.netlify.app/Original - Andrei Barbuto.epub';var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),TotcurrentLocation=_useState2[0],setTotCurrentLocation=_useState2[1];var _useState3=useState(2),_useState4=_slicedToArray(_useState3,2),changeZIndex=_useState4[0],setChangeZindex=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),flag=_useState6[0],setFlag=_useState6[1];useEffect(function(){// Recupere a localização do localStorage ao montar o componente\nvar savedLocation=localStorage.getItem('epubLocation');if(savedLocation){setTotCurrentLocation(savedLocation);setFlag(false);}},[]);var handleLocation=function handleLocation(location){if(location!=='epubcfi(/6/4!/4/2/1:0)'){console.log(location);setFlag(false);setTotCurrentLocation(location.toString());// Salve a localização no localStorage\nlocalStorage.setItem('epubLocation',location.toString());}};return/*#__PURE__*/_jsxs(\"div\",{className:\"containerLeitura\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"menuLeitura\",children:/*#__PURE__*/_jsx(\"img\",{src:menuLeitura,style:{zIndex:changeZIndex}})}),flag?/*#__PURE__*/_jsx(ReactReader,{url:epubUrl,locationChanged:function locationChanged(location){return handleLocation(location);},showToc:true}):/*#__PURE__*/_jsx(ReactReader,{url:epubUrl,locationChanged:function locationChanged(location){return handleLocation(location);},location:TotcurrentLocation,readerStyles:_objectSpread(_objectSpread({},ReactReaderStyle),{},{tocArea:_objectSpread(_objectSpread({},ReactReaderStyle.tocArea),{},{marginTop:'30vw'}),tocButton:_objectSpread(_objectSpread({},ReactReaderStyle.tocButton),{},{marginTop:'17vw'}),readerArea:_objectSpread(_objectSpread({},ReactReaderStyle.readerArea),{},{marginTop:'11vw'})}),showToc:true,tocChanged:function tocChanged(e){return console.log(e);}})]});};export default LeituraEPUB;","map":{"version":3,"names":["React","useState","useEffect","ReactReader","ReactReaderStyle","menuLeitura","jsx","_jsx","jsxs","_jsxs","LeituraEPUB","epubUrl","_useState","_useState2","_slicedToArray","TotcurrentLocation","setTotCurrentLocation","_useState3","_useState4","changeZIndex","setChangeZindex","_useState5","_useState6","flag","setFlag","savedLocation","localStorage","getItem","handleLocation","location","console","log","toString","setItem","className","children","src","style","zIndex","url","locationChanged","showToc","readerStyles","_objectSpread","tocArea","marginTop","tocButton","readerArea","tocChanged","e"],"sources":["C:/Users/barbu/Desktop/projeto-Akin/src/components/pages/Leitura.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ReactReader, ReactReaderStyle } from 'react-reader';\r\nimport menuLeitura from '../img/menuLeitura.png'\r\n\r\nconst LeituraEPUB = () => {\r\n    // Substitua com o caminho real para o seu arquivo EPUB\r\n    const epubUrl = 'https://magical-marzipan-1029e1.netlify.app/Original - Andrei Barbuto.epub';\r\n    const [TotcurrentLocation, setTotCurrentLocation] = useState(\"\");\r\n    const [changeZIndex, setChangeZindex] = useState(2)\r\n    const [flag, setFlag] = useState(true);\r\n\r\n    useEffect(() => {\r\n        // Recupere a localização do localStorage ao montar o componente\r\n        const savedLocation = localStorage.getItem('epubLocation');\r\n        if (savedLocation) {\r\n            setTotCurrentLocation(savedLocation);\r\n            setFlag(false);\r\n        }\r\n    }, []);\r\n\r\n\r\n\r\n    const handleLocation = (location) => {\r\n        if (location !== 'epubcfi(/6/4!/4/2/1:0)') {\r\n            console.log(location);\r\n            setFlag(false);\r\n            setTotCurrentLocation(location.toString());\r\n            // Salve a localização no localStorage\r\n            localStorage.setItem('epubLocation', location.toString());\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"containerLeitura\">\r\n            <div className='menuLeitura'>\r\n\r\n                <img src={menuLeitura} style={{ zIndex: changeZIndex }} />\r\n            </div>\r\n            {/* flag criada por conta de que a propriedade location da bug na primeira rendezação de tela. Segundo a própria documentação a funcao \r\nlocation é executada inevitavelmente assim que entra na tela.\r\n*/}\r\n\r\n            {flag ? (\r\n                <ReactReader\r\n                    url={epubUrl}\r\n\r\n\r\n                    locationChanged={(location) => handleLocation(location)}\r\n                    showToc={true}\r\n                />\r\n            ) : (\r\n                <ReactReader\r\n                    url={epubUrl}\r\n\r\n                    locationChanged={(location) => handleLocation(location)}\r\n\r\n                    location={TotcurrentLocation}\r\n                    readerStyles={{\r\n                        ...ReactReaderStyle,\r\n\r\n                        tocArea: {\r\n                            ...ReactReaderStyle.tocArea,\r\n                            marginTop: '30vw'\r\n                        },\r\n                        tocButton: {\r\n                            ...ReactReaderStyle.tocButton,\r\n                            marginTop: '17vw',\r\n                            \r\n                        },\r\n                        readerArea: {\r\n                            ...ReactReaderStyle.readerArea,\r\n                            marginTop:'11vw',\r\n                            \r\n\r\n                            \r\n                        },\r\n                       \r\n                        \r\n\r\n\r\n                    }}\r\n\r\n                    showToc={true}\r\n                    tocChanged={(e) => console.log(e)}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LeituraEPUB;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}