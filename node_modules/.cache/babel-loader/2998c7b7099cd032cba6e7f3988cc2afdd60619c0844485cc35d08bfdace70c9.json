{"ast":null,"code":"import _classCallCheck from \"C:/Users/barbu/Desktop/projeto-Akin/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/barbu/Desktop/projeto-Akin/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { qs, qsa, querySelectorByType, filterChildren, getParentByTagName } from \"./utils/core\";\n\n/**\n * Navigation Parser\n * @param {document} xml navigation html / xhtml / ncx\n */\nvar Navigation = /*#__PURE__*/function () {\n  function Navigation(xml) {\n    _classCallCheck(this, Navigation);\n    this.toc = [];\n    this.tocByHref = {};\n    this.tocById = {};\n    this.landmarks = [];\n    this.landmarksByType = {};\n    this.length = 0;\n    if (xml) {\n      this.parse(xml);\n    }\n  }\n\n  /**\n   * Parse out the navigation items\n   * @param {document} xml navigation html / xhtml / ncx\n   */\n  _createClass(Navigation, [{\n    key: \"parse\",\n    value: function parse(xml) {\n      var isXml = xml.nodeType;\n      var html;\n      var ncx;\n      if (isXml) {\n        html = qs(xml, \"html\");\n        ncx = qs(xml, \"ncx\");\n      }\n      if (!isXml) {\n        this.toc = this.load(xml);\n      } else if (html) {\n        this.toc = this.parseNav(xml);\n        this.landmarks = this.parseLandmarks(xml);\n      } else if (ncx) {\n        this.toc = this.parseNcx(xml);\n      }\n      this.length = 0;\n      this.unpack(this.toc);\n    }\n\n    /**\n     * Unpack navigation items\n     * @private\n     * @param  {array} toc\n     */\n  }, {\n    key: \"unpack\",\n    value: function unpack(toc) {\n      var item;\n      for (var i = 0; i < toc.length; i++) {\n        item = toc[i];\n        if (item.href) {\n          this.tocByHref[item.href] = i;\n        }\n        if (item.id) {\n          this.tocById[item.id] = i;\n        }\n        this.length++;\n        if (item.subitems.length) {\n          this.unpack(item.subitems);\n        }\n      }\n    }\n\n    /**\n     * Get an item from the navigation\n     * @param  {string} target\n     * @return {object} navItem\n     */\n  }, {\n    key: \"get\",\n    value: function get(target) {\n      var index;\n      if (!target) {\n        return this.toc;\n      }\n      if (target.indexOf(\"#\") === 0) {\n        index = this.tocById[target.substring(1)];\n      } else if (target in this.tocByHref) {\n        index = this.tocByHref[target];\n      }\n      return this.getByIndex(target, index, this.toc);\n    }\n\n    /**\n     * Get an item from navigation subitems recursively by index\n     * @param  {string} target\n     * @param  {number} index\n     * @param  {array} navItems\n     * @return {object} navItem\n     */\n  }, {\n    key: \"getByIndex\",\n    value: function getByIndex(target, index, navItems) {\n      if (navItems.length === 0) {\n        return;\n      }\n      var item = navItems[index];\n      if (item && (target === item.id || target === item.href)) {\n        return item;\n      } else {\n        var result;\n        for (var i = 0; i < navItems.length; ++i) {\n          result = this.getByIndex(target, index, navItems[i].subitems);\n          if (result) {\n            break;\n          }\n        }\n        return result;\n      }\n    }\n\n    /**\n     * Get a landmark by type\n     * List of types: https://idpf.github.io/epub-vocabs/structure/\n     * @param  {string} type\n     * @return {object} landmarkItem\n     */\n  }, {\n    key: \"landmark\",\n    value: function landmark(type) {\n      var index;\n      if (!type) {\n        return this.landmarks;\n      }\n      index = this.landmarksByType[type];\n      return this.landmarks[index];\n    }\n\n    /**\n     * Parse toc from a Epub > 3.0 Nav\n     * @private\n     * @param  {document} navHtml\n     * @return {array} navigation list\n     */\n  }, {\n    key: \"parseNav\",\n    value: function parseNav(navHtml) {\n      var navElement = querySelectorByType(navHtml, \"nav\", \"toc\");\n      var list = [];\n      if (!navElement) return list;\n      var navList = filterChildren(navElement, \"ol\", true);\n      if (!navList) return list;\n      list = this.parseNavList(navList);\n      return list;\n    }\n\n    /**\n     * Parses lists in the toc\n     * @param  {document} navListHtml\n     * @param  {string} parent id\n     * @return {array} navigation list\n     */\n  }, {\n    key: \"parseNavList\",\n    value: function parseNavList(navListHtml, parent) {\n      var result = [];\n      if (!navListHtml) return result;\n      if (!navListHtml.children) return result;\n      for (var i = 0; i < navListHtml.children.length; i++) {\n        var item = this.navItem(navListHtml.children[i], parent);\n        if (item) {\n          result.push(item);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Create a navItem\n     * @private\n     * @param  {element} item\n     * @return {object} navItem\n     */\n  }, {\n    key: \"navItem\",\n    value: function navItem(item, parent) {\n      var id = item.getAttribute(\"id\") || undefined;\n      var content = filterChildren(item, \"a\", true) || filterChildren(item, \"span\", true);\n      if (!content) {\n        return;\n      }\n      var src = content.getAttribute(\"href\") || \"\";\n      if (!id) {\n        id = src;\n      }\n      var text = content.textContent || \"\";\n      var subitems = [];\n      var nested = filterChildren(item, \"ol\", true);\n      if (nested) {\n        subitems = this.parseNavList(nested, id);\n      }\n      return {\n        \"id\": id,\n        \"href\": src,\n        \"label\": text,\n        \"subitems\": subitems,\n        \"parent\": parent\n      };\n    }\n\n    /**\n     * Parse landmarks from a Epub > 3.0 Nav\n     * @private\n     * @param  {document} navHtml\n     * @return {array} landmarks list\n     */\n  }, {\n    key: \"parseLandmarks\",\n    value: function parseLandmarks(navHtml) {\n      var navElement = querySelectorByType(navHtml, \"nav\", \"landmarks\");\n      var navItems = navElement ? qsa(navElement, \"li\") : [];\n      var length = navItems.length;\n      var i;\n      var list = [];\n      var item;\n      if (!navItems || length === 0) return list;\n      for (i = 0; i < length; ++i) {\n        item = this.landmarkItem(navItems[i]);\n        if (item) {\n          list.push(item);\n          this.landmarksByType[item.type] = i;\n        }\n      }\n      return list;\n    }\n\n    /**\n     * Create a landmarkItem\n     * @private\n     * @param  {element} item\n     * @return {object} landmarkItem\n     */\n  }, {\n    key: \"landmarkItem\",\n    value: function landmarkItem(item) {\n      var content = filterChildren(item, \"a\", true);\n      if (!content) {\n        return;\n      }\n      var type = content.getAttributeNS(\"http://www.idpf.org/2007/ops\", \"type\") || undefined;\n      var href = content.getAttribute(\"href\") || \"\";\n      var text = content.textContent || \"\";\n      return {\n        \"href\": href,\n        \"label\": text,\n        \"type\": type\n      };\n    }\n\n    /**\n     * Parse from a Epub > 3.0 NC\n     * @private\n     * @param  {document} navHtml\n     * @return {array} navigation list\n     */\n  }, {\n    key: \"parseNcx\",\n    value: function parseNcx(tocXml) {\n      var navPoints = qsa(tocXml, \"navPoint\");\n      var length = navPoints.length;\n      var i;\n      var toc = {};\n      var list = [];\n      var item, parent;\n      if (!navPoints || length === 0) return list;\n      for (i = 0; i < length; ++i) {\n        item = this.ncxItem(navPoints[i]);\n        toc[item.id] = item;\n        if (!item.parent) {\n          list.push(item);\n        } else {\n          parent = toc[item.parent];\n          parent.subitems.push(item);\n        }\n      }\n      return list;\n    }\n\n    /**\n     * Create a ncxItem\n     * @private\n     * @param  {element} item\n     * @return {object} ncxItem\n     */\n  }, {\n    key: \"ncxItem\",\n    value: function ncxItem(item) {\n      var id = item.getAttribute(\"id\") || false,\n        content = qs(item, \"content\"),\n        src = content.getAttribute(\"src\"),\n        navLabel = qs(item, \"navLabel\"),\n        text = navLabel.textContent ? navLabel.textContent : \"\",\n        subitems = [],\n        parentNode = item.parentNode,\n        parent;\n      if (parentNode && (parentNode.nodeName === \"navPoint\" || parentNode.nodeName.split(':').slice(-1)[0] === \"navPoint\")) {\n        parent = parentNode.getAttribute(\"id\");\n      }\n      return {\n        \"id\": id,\n        \"href\": src,\n        \"label\": text,\n        \"subitems\": subitems,\n        \"parent\": parent\n      };\n    }\n\n    /**\n     * Load Spine Items\n     * @param  {object} json the items to be loaded\n     * @return {Array} navItems\n     */\n  }, {\n    key: \"load\",\n    value: function load(json) {\n      var _this = this;\n      return json.map(function (item) {\n        item.label = item.title;\n        item.subitems = item.children ? _this.load(item.children) : [];\n        return item;\n      });\n    }\n\n    /**\n     * forEach pass through\n     * @param  {Function} fn function to run on each item\n     * @return {method} forEach loop\n     */\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      return this.toc.forEach(fn);\n    }\n  }]);\n  return Navigation;\n}();\nexport default Navigation;","map":{"version":3,"names":["qs","qsa","querySelectorByType","filterChildren","getParentByTagName","Navigation","xml","_classCallCheck","toc","tocByHref","tocById","landmarks","landmarksByType","length","parse","_createClass","key","value","isXml","nodeType","html","ncx","load","parseNav","parseLandmarks","parseNcx","unpack","item","i","href","id","subitems","get","target","index","indexOf","substring","getByIndex","navItems","result","landmark","type","navHtml","navElement","list","navList","parseNavList","navListHtml","parent","children","navItem","push","getAttribute","undefined","content","src","text","textContent","nested","landmarkItem","getAttributeNS","tocXml","navPoints","ncxItem","navLabel","parentNode","nodeName","split","slice","json","_this","map","label","title","forEach","fn"],"sources":["C:/Users/barbu/Desktop/projeto-Akin/node_modules/epubjs/src/navigation.js"],"sourcesContent":["import {qs, qsa, querySelectorByType, filterChildren, getParentByTagName} from \"./utils/core\";\n\n/**\n * Navigation Parser\n * @param {document} xml navigation html / xhtml / ncx\n */\nclass Navigation {\n\tconstructor(xml) {\n\t\tthis.toc = [];\n\t\tthis.tocByHref = {};\n\t\tthis.tocById = {};\n\n\t\tthis.landmarks = [];\n\t\tthis.landmarksByType = {};\n\n\t\tthis.length = 0;\n\t\tif (xml) {\n\t\t\tthis.parse(xml);\n\t\t}\n\t}\n\n\t/**\n\t * Parse out the navigation items\n\t * @param {document} xml navigation html / xhtml / ncx\n\t */\n\tparse(xml) {\n\t\tlet isXml = xml.nodeType;\n\t\tlet html;\n\t\tlet ncx;\n\n\t\tif (isXml) {\n\t\t\thtml = qs(xml, \"html\");\n\t\t\tncx = qs(xml, \"ncx\");\n\t\t}\n\n\t\tif (!isXml) {\n\t\t\tthis.toc = this.load(xml);\n\t\t} else if(html) {\n\t\t\tthis.toc = this.parseNav(xml);\n\t\t\tthis.landmarks = this.parseLandmarks(xml);\n\t\t} else if(ncx){\n\t\t\tthis.toc = this.parseNcx(xml);\n\t\t}\n\n\t\tthis.length = 0;\n\n\t\tthis.unpack(this.toc);\n\t}\n\n\t/**\n\t * Unpack navigation items\n\t * @private\n\t * @param  {array} toc\n\t */\n\tunpack(toc) {\n\t\tvar item;\n\n\t\tfor (var i = 0; i < toc.length; i++) {\n\t\t\titem = toc[i];\n\n\t\t\tif (item.href) {\n\t\t\t\tthis.tocByHref[item.href] = i;\n\t\t\t}\n\n\t\t\tif (item.id) {\n\t\t\t\tthis.tocById[item.id] = i;\n\t\t\t}\n\n\t\t\tthis.length++;\n\n\t\t\tif (item.subitems.length) {\n\t\t\t\tthis.unpack(item.subitems);\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Get an item from the navigation\n\t * @param  {string} target\n\t * @return {object} navItem\n\t */\n\tget(target) {\n\t\tvar index;\n\n\t\tif(!target) {\n\t\t\treturn this.toc;\n\t\t}\n\n\t\tif(target.indexOf(\"#\") === 0) {\n\t\t\tindex = this.tocById[target.substring(1)];\n\t\t} else if(target in this.tocByHref){\n\t\t\tindex = this.tocByHref[target];\n\t\t}\n\n\t\treturn this.getByIndex(target, index, this.toc);\n\t}\n\n\t/**\n\t * Get an item from navigation subitems recursively by index\n\t * @param  {string} target\n\t * @param  {number} index\n\t * @param  {array} navItems\n\t * @return {object} navItem\n\t */\n\tgetByIndex(target, index, navItems) {\n\t\tif (navItems.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst item = navItems[index];\n\t\tif (item && (target === item.id || target === item.href)) {\n\t\t\treturn item;\n\t\t} else {\n\t\t\tlet result;\n\t\t\tfor (let i = 0; i < navItems.length; ++i) {\n\t\t\t\tresult = this.getByIndex(target, index, navItems[i].subitems);\n\t\t\t\tif (result) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\t/**\n\t * Get a landmark by type\n\t * List of types: https://idpf.github.io/epub-vocabs/structure/\n\t * @param  {string} type\n\t * @return {object} landmarkItem\n\t */\n\tlandmark(type) {\n\t\tvar index;\n\n\t\tif(!type) {\n\t\t\treturn this.landmarks;\n\t\t}\n\n\t\tindex = this.landmarksByType[type];\n\n\t\treturn this.landmarks[index];\n\t}\n\n\t/**\n\t * Parse toc from a Epub > 3.0 Nav\n\t * @private\n\t * @param  {document} navHtml\n\t * @return {array} navigation list\n\t */\n\tparseNav(navHtml){\n\t\tvar navElement = querySelectorByType(navHtml, \"nav\", \"toc\");\n\t\tvar list = [];\n\n\t\tif (!navElement) return list;\n\n\t\tlet navList = filterChildren(navElement, \"ol\", true);\n\t\tif (!navList) return list;\n\n\t\tlist = this.parseNavList(navList);\n\t\treturn list;\n\t}\n\n\t/**\n\t * Parses lists in the toc\n\t * @param  {document} navListHtml\n\t * @param  {string} parent id\n\t * @return {array} navigation list\n\t */\n\tparseNavList(navListHtml, parent) {\n\t\tconst result = [];\n\n\t\tif (!navListHtml) return result;\n\t\tif (!navListHtml.children) return result;\n\t\t\n\t\tfor (let i = 0; i < navListHtml.children.length; i++) {\n\t\t\tconst item = this.navItem(navListHtml.children[i], parent);\n\n\t\t\tif (item) {\n\t\t\t\tresult.push(item);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Create a navItem\n\t * @private\n\t * @param  {element} item\n\t * @return {object} navItem\n\t */\n\tnavItem(item, parent) {\n\t\tlet id = item.getAttribute(\"id\") || undefined;\n\t\tlet content = filterChildren(item, \"a\", true)\n\t\t\t|| filterChildren(item, \"span\", true);\n\n\t\tif (!content) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet src = content.getAttribute(\"href\") || \"\";\n\t\t\n\t\tif (!id) {\n\t\t\tid = src;\n\t\t}\n\t\tlet text = content.textContent || \"\";\n\n\t\tlet subitems = [];\n\t\tlet nested = filterChildren(item, \"ol\", true);\n\t\tif (nested) {\n\t\t\tsubitems = \tthis.parseNavList(nested, id);\n\t\t}\n\n\t\treturn {\n\t\t\t\"id\": id,\n\t\t\t\"href\": src,\n\t\t\t\"label\": text,\n\t\t\t\"subitems\" : subitems,\n\t\t\t\"parent\" : parent\n\t\t};\n\t}\n\n\t/**\n\t * Parse landmarks from a Epub > 3.0 Nav\n\t * @private\n\t * @param  {document} navHtml\n\t * @return {array} landmarks list\n\t */\n\tparseLandmarks(navHtml){\n\t\tvar navElement = querySelectorByType(navHtml, \"nav\", \"landmarks\");\n\t\tvar navItems = navElement ? qsa(navElement, \"li\") : [];\n\t\tvar length = navItems.length;\n\t\tvar i;\n\t\tvar list = [];\n\t\tvar item;\n\n\t\tif(!navItems || length === 0) return list;\n\n\t\tfor (i = 0; i < length; ++i) {\n\t\t\titem = this.landmarkItem(navItems[i]);\n\t\t\tif (item) {\n\t\t\t\tlist.push(item);\n\t\t\t\tthis.landmarksByType[item.type] = i;\n\t\t\t}\n\t\t}\n\n\t\treturn list;\n\t}\n\n\t/**\n\t * Create a landmarkItem\n\t * @private\n\t * @param  {element} item\n\t * @return {object} landmarkItem\n\t */\n\tlandmarkItem(item){\n\t\tlet content = filterChildren(item, \"a\", true);\n\n\t\tif (!content) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet type = content.getAttributeNS(\"http://www.idpf.org/2007/ops\", \"type\") || undefined;\n\t\tlet href = content.getAttribute(\"href\") || \"\";\n\t\tlet text = content.textContent || \"\";\n\n\t\treturn {\n\t\t\t\"href\": href,\n\t\t\t\"label\": text,\n\t\t\t\"type\" : type\n\t\t};\n\t}\n\n\t/**\n\t * Parse from a Epub > 3.0 NC\n\t * @private\n\t * @param  {document} navHtml\n\t * @return {array} navigation list\n\t */\n\tparseNcx(tocXml){\n\t\tvar navPoints = qsa(tocXml, \"navPoint\");\n\t\tvar length = navPoints.length;\n\t\tvar i;\n\t\tvar toc = {};\n\t\tvar list = [];\n\t\tvar item, parent;\n\n\t\tif(!navPoints || length === 0) return list;\n\n\t\tfor (i = 0; i < length; ++i) {\n\t\t\titem = this.ncxItem(navPoints[i]);\n\t\t\ttoc[item.id] = item;\n\t\t\tif(!item.parent) {\n\t\t\t\tlist.push(item);\n\t\t\t} else {\n\t\t\t\tparent = toc[item.parent];\n\t\t\t\tparent.subitems.push(item);\n\t\t\t}\n\t\t}\n\n\t\treturn list;\n\t}\n\n\t/**\n\t * Create a ncxItem\n\t * @private\n\t * @param  {element} item\n\t * @return {object} ncxItem\n\t */\n\tncxItem(item){\n\t\tvar id = item.getAttribute(\"id\") || false,\n\t\t\t\tcontent = qs(item, \"content\"),\n\t\t\t\tsrc = content.getAttribute(\"src\"),\n\t\t\t\tnavLabel = qs(item, \"navLabel\"),\n\t\t\t\ttext = navLabel.textContent ? navLabel.textContent : \"\",\n\t\t\t\tsubitems = [],\n\t\t\t\tparentNode = item.parentNode,\n\t\t\t\tparent;\n\n\t\tif(parentNode && (parentNode.nodeName === \"navPoint\" || parentNode.nodeName.split(':').slice(-1)[0] === \"navPoint\")) {\n\t\t\tparent = parentNode.getAttribute(\"id\");\n\t\t}\n\n\n\t\treturn {\n\t\t\t\"id\": id,\n\t\t\t\"href\": src,\n\t\t\t\"label\": text,\n\t\t\t\"subitems\" : subitems,\n\t\t\t\"parent\" : parent\n\t\t};\n\t}\n\n\t/**\n\t * Load Spine Items\n\t * @param  {object} json the items to be loaded\n\t * @return {Array} navItems\n\t */\n\tload(json) {\n\t\treturn json.map(item => {\n\t\t\titem.label = item.title;\n\t\t\titem.subitems = item.children ? this.load(item.children) : [];\n\t\t\treturn item;\n\t\t});\n\t}\n\n\t/**\n\t * forEach pass through\n\t * @param  {Function} fn function to run on each item\n\t * @return {method} forEach loop\n\t */\n\tforEach(fn) {\n\t\treturn this.toc.forEach(fn);\n\t}\n}\n\nexport default Navigation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}